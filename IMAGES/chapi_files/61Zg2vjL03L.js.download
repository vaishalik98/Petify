(function(z){var t=window.AmazonUIPageJS||window.P,fa=t._namespace||t.attributeErrors,g=fa?fa("DetailPageImageBlockAssets",""):t;g.guardFatal?g.guardFatal(z)(g,window):g.execute(function(){z(g,window)})})(function(z,t,fa){z.register("postMetric",function(){return{postCountMetric:function(g){if("undefined"!==typeof g){var a=t.ue;if(a){var b=a.count(g)||0;a.count(g,b+1)}}},postTimeMetric:function(g,a){if("undefined"!==typeof g&&"undefined"!==typeof a){var b=t.ue;b&&b.count(g,a)}}}});"use strict";z.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});z.register("postEarlyMetric",function(){return null});"use strict";z.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(g,a,b,n){g=g.extend(!0,{},b,n);var m=new a(g);z.register("ImageBlockAPI",function(){return m.api});return m});"use strict";z.when("A","jQuery").execute(function(g,a){g.on("a:image:load:landingImage",function(){t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",
performance.now())});g.loadDynamicImage(a("#landingImage"))});"use strict";z.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(g){function a(b){b&&(z.load.js(b),t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",t.parseInt(performance.now())))}function b(b){b&&z.load.css(b)}var n=g.airyConfig;void 0===n?z.when("ImageBlockBTF").execute(function(g){n=g.airyConfig;a(n.jsUrl);b(n.cssUrl)}):(a(n.jsUrl),b(n.cssUrl))});"use strict";z.when("jQuery","ImageBlockModel",
"ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(g,a,b,n,m){var k={};return function(y){var d=this;d.dispatch=function(b,a){var d=k[b];n.isDefined(d)&&g.each(d,function(b,k){k.call(t,a)})};d.register=function(b,a){n.isDefined(k[b])||(k[b]=[]);"function"===typeof a&&k[b].push(a)};d.model=new a(y,d);d.view=new b(y,d,d.model);d.api=new m(y,d,d.model);d.init=function(){d.model.init();d.view.init()};d.init()}});"use strict";z.when("A","imageBlockUtils").register("ImageBlockModel",
function(g,a){function b(b,k,d,g,m){a.isDefined(b)&&(G.type=b);a.isDefined(k)&&(G.index=k);a.isDefined(d)&&(G.thumbnailIndex=d);a.isDefined(g)&&(G.variant=g);a.isDefined(m)&&(G.color=m)}function n(a){b("image",0,0,"MAIN",a||d.landingAsinColor||d.defaultColor)}function m(a){a=a.data;I=g.copy(G);b(a.type,a.index,a.thumbnailIndex,a.variant,a.color)}function k(b){m(b);b=g.copy(b);b.data=g.copy(G);l.dispatch("updateView",b)}function y(){I=g.copy(G);n(G.color)}var d,l,G={},I={},D,t;return function(b,a){l=
a;d=b;l.register("updateSelection",k);l.register("updateModel",m);l.register("resetModel",y);this.init=function(){n()};this.getCurrentItem=function(){return g.copy(G)};this.getPreviousItem=function(){return g.copy(I)};this.setCurrentEvent=function(b){D=b};this.getCurrentEvent=function(){return D};this.setImmersiveViewModalInstance=function(b){t=b};this.getImmersiveViewModalInstance=function(){return t};this.updateTitle=function(b){d.title=b}}});"use strict";z.when("ImageBlockBTF","postMetric").execute(function(g,
a){function b(b,a,y,d,n){function G(b){"click"===b.type&&d.postCountMetric("thumbClick");"click"===b.type&&r.overrideAltImageClickAction?p.dispatch("thumbActionClick",b):p.dispatch("updateSelection",b)}function I(b){r.useClickZoom||p.dispatch("imageClick",b)}function D(b){r.useClickZoom||p.dispatch("imageHover",b)}function M(b){p.dispatch("button360Click",b)}function A(a){!y.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(q.update(a),"swatchHover"!==a.type&&B.getPreviousItem().thumbnailIndex!==
a.data.thumbnailIndex&&d.postCountMetric(a.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",a.data)):(q.render(a.data.color,!1,a.onload),a={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",a))}function H(b){p.dispatch("resize",b)}function N(b){y.selectThumbnail(b,F)}function P(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function L(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===g.useIV?z.when("a-modal").execute(function(){P()}):P();r.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],G);b.declarative("thumb-action",["click"],
G);b.declarative("main-image-click",["click"],I);b.declarative("main-image-click",["mouseenter","mouseleave"],D);b.declarative("button-360-click",["click"],M);b.on("resize",H)}function c(b){var a=b.data,f;a&&"ingress"!==a.type&&"click"===b.type&&(f=b);return f}function x(b){var a=B.getCurrentItem(),f={type:"click"};f.$declarativeParent=b;f.data=a;return f}var q,r,p,B,F;return function(b,d,f){q=this;r=b;p=d;B=f;F=a("#imageBlock #altImages ul");var h=a("#imageBlock .canvas"),e=a("#main-image-container"),
g;q.subViews=[];for(d=0;d<n.length;d++)q.subViews.push(new n[d](b,f,q,p));q.render=function(b,f,c){var d=0;F.find(".item").remove();b=b||B.getCurrentItem().color;a.each(q.subViews,function(a,k){d=k.render(b,d,h,F,e,f,c)||d});var p=F.find(".a-button-selected").closest(".a-declarative");g=x(p)};q.init=function(){F=a("#imageBlock #altImages ul");var b=F.find(".a-button-selected").closest(".a-declarative"),f=b.data("action"),b=b.data(f)||{};b.color=r.landingAsinColor||r.defaultColor;p.dispatch("updateModel",
{data:b});q.render(b.color,!0);r.isDebug&&t.console&&console.log(r);p.register("updateView",A);p.register("selectThumbnail",N);L()};q.update=function(b){a.each(q.subViews,function(a,f){f.update(b)});r.usePeekHover&&("mouseleave"===b.type?p.dispatch("updateSelection",g):"click"===b.type&&(g=c(b)||g))}}}var n=["A","jQuery","imageBlockUtils","postMetric"].concat(g.views);z.when.apply(z,n).register("ImageBlockView",function(){for(var a=arguments[0],k=arguments[1],g=arguments[2],d=arguments[3],n=[],G=
4,I=arguments.length;G<I;G++)n.push(arguments[G]);return b(a,k,g,d,n)})});"use strict";z.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(g,a,b,n,m,k,y){function d(f,h,c,e){if(!b.isjQueryObjDefined(f.find(".a-button-selected"))){var k=B.getCurrentItem();if(!e||"chromeless-video"!==k.type||!p.autoplayVideo){e=0;"image"===k.type&&(e=Math.max(I(k.color,k.variant),0));var d=h+e;d>=c&&(e=0,d=h);
h=b.getImageHash(k.color,e,p);-1!==h&&(F.dispatch("updateModel",{data:{index:e,thumbnailIndex:d,variant:h.variant,type:"image"}}),h=f.find(".item").get(d),b.selectGivenThumbnail(a(h),f))}}}function l(f,h,c){h=p.colorImages&&p.colorImages[h];var e=f;b.isDefined(h)&&(a.each(h,function(a,h){f<p.maxAlts&&(b.createThumbnail({type:"image",index:a,thumbnailIndex:f,variant:h.variant},h.thumb,J,"imageThumbnail"),f++)}),k.isEnabled&&y.logAltImgRequestPlacedOnThumbnails(a,k,B),d(J,e,f,c));return f}function G(b,
f){if("image"===b.type){var h=a("#image-canvas-caption #canvasCaption"),c,e=p.staticStrings,k=p.colorImages,d=b.color,g=b.index;f&&p.useIV?c=e.clickToExpand:k[d]&&k[d][g].hiRes&&p.useHoverZoom?(c=p.useHoverZoomIpad?e.touchToZoom:p.useClickZoom?e.clickToZoom:e.rollOverToZoom,p.hoverZoomIndicator&&(c="\x3cimg src\x3d'"+p.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+c)):p.useIV&&(c=e.clickToExpand);h.html(c)}}function I(a,f){return b.getIndexForVariant(a,f,p)}function D(h,c){var e="a-dynamic-image";
if(!p.acEnabled){var k;a.each(h.main,function(a,f){b.isDefined(k)||(k=parseFloat(f[1]/f[0])<=parseFloat(p.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});e+=k}var d=b.getMaxDimensionsOfMainImage(h.main,f,p),g=d[0],q=d[1],d=a("\x3cdiv\x3e\x3c/div\x3e"),g={"max-height":g,"max-width":q};d.addClass(e).css(g).attr({"data-old-hires":h.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",h.main);return d}function t(b){var a=u.find(".swatchHoverExp");b=D(b);a.find(".imgTagWrapper").html(b);
g.loadImageManually(b);return a}function A(b){var a=f.css("height");null!==a&&b.find(".imgTagWrapper").css("height",a);b.addClass("selected");p.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(p.imgTagWrapperClasses)}function H(a,f){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){b.isDefined(f)&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");var h=b.getImageHash(a.color,a.index,p);if(-1===h)return h={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
b.lazyLoadingRequired(a,B,p)?L(a,!1,f):(F.dispatch("updateModel",h),b.showUnavailable(a.color)),-1;var c=u.find(".item.itemNo"+a.thumbnailIndex);if(!b.isjQueryObjDefined(c)){var c=a.thumbnailIndex,c=u.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+c+" maintain-height"),e=D(h,f);c.find(".placeHolder").replaceWith(e);u.find(".list").append(c);g.loadImageManually(e)}A(c);F.dispatch("loadMagnifier");G(a);p.useIV&&b.isDefined(h.hiRes)&&c.css("cursor",
"pointer");a.isUserGenerated&&(c=B.getPreviousItem(),e=a.variant,b.isDefined(e)&&c.thumbnailIndex!==a.thumbnailIndex&&(k.isEnabled&&y.logAltImgRequestServed(k),m.postCountMetric("ImageThumbnailSelectedVariant:"+e),0===e.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+e),m.postCountMetric("IGImageSelectedEvent:"+a.interaction))));g.trigger("dp:image-block:update",h)}}function N(a){var f=Math.max(I(a.color,B.getCurrentItem().variant),0),f=b.getImageHash(a.color,f,p);if(-1===f)return b.lazyLoadingRequired(a,
B,p)?b.lazyLoadOnHoverEnabled(p)&&(P(".3",!0),b.spinner(u,!0),g.delay(function(){B.getCurrentEvent().data===a&&L(a,!0)},500)):b.showUnavailable(a.color),-1;var h=t(f);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");A(h);g.trigger("dp:image-block:update",f)}function P(b,f){f?u.css("opacity",b):a("#imageBlock").css("opacity",b)}function L(a,f,k){h=f;e=k;var d=a.color,g=p.colorToAsin[d];if(g&&g.asin){var q={};q.params={asin:g.asin,productGroupID:p.productGroupID,color:d};q.success=function(q){q?
(m.postCountMetric("lazyloadImageBlockOnTwisterUpdateSuccess"),b.ajaxState(g.asin,"success"),p.colorImages[d]=q.colorImage,b.isDefined(p.spin360ColorEnabled)&&(p.spin360ColorEnabled[d]=q.enable360),d===a.color&&(f&&h?(m.postCountMetric("lazyloadImageBlockOnTwisterHoverSuccess"),a===B.getCurrentEvent().data&&(c(a),N(a))):(m.postCountMetric("lazyloadImageBlockOnTwisterClickSuccess"),q={type:"updatedData",data:B.getCurrentItem(),onload:k||e},F.dispatch("updateView",q))),z.register(b.rankedImagesReadyEvent(g.asin))):
(m.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail"),b.ajaxState(g.asin,"fail"))};q.error=function(){m.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail");b.ajaxState(g.asin,"fail")};q.indicator=b.spinner(u);b.ajaxState(g.asin,void 0)&&"fail"!==b.ajaxState(g.asin,void 0)||(f?m.postCountMetric("lazyloadImageBlockOnTwisterHover"):m.postCountMetric("lazyloadImageBlockOnTwisterClick"),P(".3",f),n.load("/gp/product/features/apparel-main-image/ranked-images.html",q),b.ajaxState(g.asin,"sent"));
return p.colorImages&&p.colorImages[d]}}function c(f,h){b.lazyLoadingRequired(f,B,p)||(a("#imageBlock").css("opacity","1"),u.css("opacity","1"),b.spinner(u,!1),u.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),b.hideUnavailable(),h&&u.find(".list .item").remove())}function x(){var h=u.find(".item .imgTagWrapper"),c=b.getContainerHeight(f,p.holderRatio,p.holderMaxHeight);0<c&&(f.height(c),h.height(c));u.find("img.a-dynamic-image").each(function(){var h=a(this);
h.data("a-manual-replacement")&&g.loadDynamicImage(this);var c=h.data("a-dynamic-image"),c=b.getMaxDimensionsOfMainImage(c,f,p);h.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function q(b){G(B.getCurrentItem(),"mouseenter"===b.type)}var r,p,B,F,J,u,f,h,e,v;return function(a,h,e,d){r=this;p=a;B=h;F=d;p.colorImages[p.landingAsinColor]=p.colorImages[p.defaultColor];r.render=function(a,h,e,d,k,g,q){u=e;J=d;f=k;v=l(h,a,g);g||(a=B.getCurrentItem(),b.lazyLoadingRequired(a,B,p)&&F.dispatch("updateModel",
{data:{type:"lazy-loaded"}}));c(B.getCurrentItem(),!g);H(B.getCurrentItem(),q);return v};r.update=function(a){var f=a.data;B.setCurrentEvent(a);"ingress"!==f.type&&c(a.data,!1);"swatchHover"===a.type?f.color===B.getCurrentItem().color?H(B.getCurrentItem()):a.captured||-1===N(f)||(a.captured=!0):"image"===f.type&&(f.interaction=a.type,f.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(f.thumbnailIndex+1)+"_"+v),H(f),p.usePeekHover&&"click"!==a.type||(b.selectGivenThumbnail(a.$declarativeParent,
J),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(f.thumbnailIndex+1)+"_"+v))))};p.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");F.register("imageHover",q);F.register("resize",x)}});"use strict";z.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(g,a,b,n,m,k){function y(a){P?a.css("cursor","url('"+D.staticImages.zoomIn+"'), auto"):
(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function d(a){var c=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(b.isDefined(c))for(var c=c[1].split("_"),d=0;d<c.length;d++){var k=c[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);b.isDefined(k)&&(a[k[1]]=parseInt(k[2],10))}return a}function l(l,c){function x(){var a;c.useClickZoom?(a=c.offsetInClickZoom,a=[Math.min(1,Math.max(0,I[0]-(E[0]+a))/(E[2]-2*a)),Math.min(1,Math.max(0,I[1]-(E[1]+a))/(E[3]-2*a))]):a=
v&&v.updatePosition();if(a&&e&&e.detailSize){var b=[e.detailSize[0]-e.rect.width,e.detailSize[1]-e.rect.height];g.capabilities.rtl?e.detailImage.get(0).style.right=-(a[0]*b[0])+"px":e.detailImage.get(0).style.left=-(a[0]*b[0])+"px";e.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function q(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function r(b){var f=S?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";I=S?[f.pageX,f.pageY]:[b.pageX,b.pageY];if(g.capabilities.rtl){var h=
a(t).width();I=S?[h-f.pageX,f.pageY]:[h-b.pageX,b.pageY]}}function p(a){S&&a.preventDefault();r(a);c.useClickZoom?a=[E[0],E[1],E[0]+E[2],E[1]+E[3]]:(a=v?v.offset:l.offsetParent().offset(),a=D.acEnabled?[a.left,a.top,f.width()+a.left,f.height()+a.top]:[A[0]+a.left,A[1]+a.top,A[0]+A[2]+a.left,A[1]+A[3]+a.top]);I[0]<a[0]||I[1]<a[1]||I[0]>=a[2]||I[1]>=a[3]||D.acEnabled&&!q(l)?(c.fadeMagnifier?N||(N=!0,Z=setTimeout(function(){B(!0)},500)):c.useClickZoom||B(),C&&(C=!1,clearTimeout(aa))):(C||(C=!0,aa=setTimeout(function(){n.postCountMetric("dppc_hoverZoomOpened");
m.isEnabled&&k.logHoverZoomRequestServed(m)},1E3)),c.fadeMagnifier&&N&&(N=!1,clearTimeout(Z)),x())}function B(b){b&&u.suppressMagnifier(!0);if(Q&&(e&&e.hide(),v&&(v.destroy(),v=null),Q=!1,S?(l.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),G(),b))l.one("click.magnifier touchstart.magnifier",function(a){F(a,!0)})}function F(b,h){h&&u.suppressMagnifier(!1);if(!Q&&
!ea&&(0===ba&&(n.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),ba=1),H[R]||(n.postCountMetric("dppc_hoverMain"),H[R]=1),A=[l.position().left,l.position().top,l.width(),l.height()],R&&(r(b),e?e.refit().show():e=new M,c.useClickZoom||(v=v||new z),E=e.getWindowSize(),x()),Q=!0,S?(l.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",p).bind("touchend.magnifier",B),a(document).trigger("engaged.magnifier")):(D.acEnabled?f.unbind("mousemove.magnifier"):l.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",p)),h)){var d=a("#zoomWindow");if(0<d.length)d.one("click.magnifier touchend.magnifier",function(a){B(!0)})}}function G(){c.useHoverZoom&&(S?l.bind("touchstart.magnifier touchmove.magnifier",F):D.acEnabled?q(l)&&f.bind("mousemove.magnifier",F):l.bind("mousemove.magnifier",F))}var u=this,f=l.offsetParent(),h={detailImageUrl:l.attr("data-old-hires"),location:"over",locationElement:l,prelaod:"ready",zIndex:50,offsetInClickZoom:50};c=
a.extend(h,c);c.adjustment=[10,0,-10,0];var e=null,v=null,I=null,A=null,E=null,K={"null":1,"":1,undefined:1},Q=!1,ea=!1,R=c.detailImageUrl,S=c.useHoverZoomIpad||0,ba=0,H={},z=function(){function b(a){var f=Math.round(Math.min(l.width(),e.rect.width/a));a=Math.round(Math.min(l.height(),e.rect.height/a));g.css({width:f,height:a});h=[f,a]}var f=this,h=[0,0],d=(e.detailSize&&e.detailSize[0]||5E8)/A[2],k=(e.detailSize&&e.detailSize[1]||5E8)/A[3],d=k>d?k:d;a("#magnifierLens").remove();var g=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
c.generalImageUrls.zoomLensBackground&&g.css({backgroundImage:"url("+c.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?y(g):g.css("cursor","pointer");f.updatePosition=function(){var a=[A[2]-h[0],A[3]-h[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(I[0]-h[0]/2-A[0]-f.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(I[1]-h[1]/2-A[1]-f.offset.top)/a[1])),d=A[0]+Math.round(b*a[0]),a=A[1]+Math.round(c*a[1]);g.get(0).style.left=d+"px";g.get(0).style.top=a+"px";return[b,c]};f.destroy=function(){g.remove()};
f.offset=l.offsetParent().offset();b(d);f.updatePosition();g.appendTo(l.parent());e.detailImage[0].complete||e.detailImage.load(function(){var a=e.detailImage.width()/A[2];b(a);f.updatePosition()})};z.preload=function(){u.preload(c.generalImageUrls.lensBackgroundUrl)};var M=function(){function f(){var h={};if("over"===c.location){var h=c.useClickZoom,d={},g=a("#leftCol"),p=a("#centerCol"),r=a("#rightCol"),x=a("#hover-zoom-end"),v=a("#actionPanelContainer"),y=b.isjQueryObjDefined(g)?g.outerHeight():
p.outerHeight();d.top=b.isjQueryObjDefined(g)?g.offset().top:p.offset().top;d.bottom=y+d.top;d.right=b.isjQueryObjDefined(r)?r.offset().left:v.offset().left;d.left=h?0:g.offset().left+g.outerWidth();b.isjQueryObjDefined(x)&&x.offset().top>d.bottom&&(d.bottom=x.offset().top);h=d}else"right"===c.location&&(h=l.offset(),h={left:h.left+l.outerWidth(),top:h.top,right:h.left+l.outerWidth()+400,bottom:h.top+400});c.minHeightElement&&(h.bottom=Math.max(h.bottom,h.top+a(c.minHeightElement).outerHeight()));
h.bottom=Math.min(h.bottom,a(t).scrollTop()+a(t).height());h.left+=k[0];h.top+=k[1];h.right+=k[2];h.bottom+=k[3];h.width=h.right-h.left;h.height=h.bottom-h.top;c.enhancedHoverOverlay&&b.isDefined(t.pageXOffset)&&(d=a(t).width(),h.width=d-h.left+t.pageXOffset-18,h.height-=14);q.css({left:h.left,top:h.top,width:h.width,height:h.height});e.rect=h;return e}function h(a){var b=new Image;e.detailSize=[0,0];b.onload=function(){e.detailSize=[b.width,b.height];x()};b.src=a.attr("src");if(0<b.width&&0<b.height)e.detailSize=
[b.width,b.height];else if(c.detailImageSize)e.detailSize=c.detailImageSize;else{a=d(b.src);var f=A[2]/A[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/f)]:a.SY?e.detailSize=[Math.round(a.SY*f),a.SY]:a.SL&&(e.detailSize=1<=f?[a.SL,Math.round(a.SL/f)]:[Math.round(a.SL*f),a.SL])}}var e=this,k=c.adjustment;a("#zoomWindow").remove();var g={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:c.zIndex};c.enhancedHoverOverlay&&(g.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
g.border="1px solid #949494",g.borderColor="rgb(148,148,148)");var q=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(g);c.fadeMagnifier&&q.fadeIn(200);c.useClickZoom&&(P?q.css("cursor",'url("'+c.zoomOutIcon+'"), auto'):(q.css("cursor","-webkit-zoom-out"),q.css("cursor","-moz-zoom-out"),q.css("cursor","zoom-out")));e.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();q.append(b);a(document).trigger("updated.magnifier");
e.detailImage=b;h(e.detailImage)};e.refit=function(){f();h(e.detailImage);return e};c.fadeMagnifier?(e.show=function(){q.fadeIn(200);return e},e.hide=function(){q.fadeOut(200);return e}):(e.show=function(){q.show();return e},e.hide=function(){q.hide();return e});e.destroy=function(){q.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(R);f();q.appendTo(document.body)},N=!1,Z,C=!1,aa;u.preload=function(b){b=a.makeArray(b);for(var h=
b.length,f=0;f<h;f++)b[f]instanceof Array?u.preload(b[f]):"string"===typeof b[f]&&b[f]&&!K[b[f]]&&(K[b[f]]=new Image,K[b[f]].src=b[f])};u.changeImage=function(b,f){Q&&B();R=f;l.attr("src",b);u.preload(b);A=[l.position().left,l.position().top,l.width(),l.height()];f&&("immediately"===c.preload?u.preload(f,!0):a(t).ready(function(){u.preload(f)}),e?e.updateImage(f):l.attr("data-old-hires",f))};u.destroy=function(){D.acEnabled?f.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
l.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");v&&v.destroy();v=null;e&&e.destroy();e=null};u.detailImage=function(){return e.detailImage};u.suppressMagnifier=function(a){ea=a};u.isEngaged=function(){return Q};u.engageMagnifier=F;u.disengageMagnifier=B;l[0].complete?G():l.one("load",G);u.preload(l.attr("src"));t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(c.preload){var ja=
c.detailImageUrl,h=function(){u.preload(ja,!0);c.useClickZoom||z.preload()},W=c.preload;W.constructor!==Array&&(W=[W]);for(var w=0;w<W.length;w++)if("immediately"===W[w])h();else if(a(t)[W[w]])a(t)[W[w]](h);else a(t).bind(W[w],h)}return u}function G(){if(D.useHoverZoom){var d={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,fadeMagnifier:D.fadeMagnifier,
zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};H&&(H.destroy(),H=void 0);var c=z.find(".image.item.selected img[data-old-hires]").not("[data-old-hires\x3d'']");b.isjQueryObjDefined(c)?D.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(a){H=new l(c,d);H.engageMagnifier(a,!0)}),P?c.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor",
"zoom-in"))):H=new l(c,d):m.isEnabled&&k.logHoverZoomApplicability(a,m)}}var I,D,M,A,H,z,P=navigator.userAgent.match(/msie|trident/i);return function(a,b,d,g){I=this;D=a;M=b;m.refToModel=M;A=g;I.render=function(a,b,c,d,g,k){z=c;H&&(H.destroy(),H=void 0)};I.update=function(a){};A.register("loadMagnifier",G);A.register("resize",G)}});"use strict";z.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(g,a,b,n){function m(a,g,k){a=(a=k?k:b.getColorFromState(g.getState().hovered_variations,
d))&&""!==a?a:d.defaultColor;G.dispatch("updateView",{type:"swatchHover",data:{color:a}});n.postCountMetric("swatchHover")}function k(a,g,k,y){a=(a=y?y:b.getColorFromState(g.getState().selected_variations,d))&&""!==a?a:d.defaultColor;a===l.getCurrentItem().color?"function"===typeof k&&k():(G.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",
a);k()}}),n.postCountMetric("swatchClick"))}var y,d,l,G;return function(a,b,n,A){y=this;d=a;l=b;G=A;g.on("image-block-twister-swatch-hover",m);g.on("image-block-twister-swatch-click",k);y.render=function(a,b,d,g,c){};y.update=function(a){}}});"use strict";z.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(g,a,b,n,m,k,y){function d(b,f,h,e){!c.autoplayVideo||X||c.useChromelessVideoPlayer?!n.isjQueryObjDefined(b.find(".a-button-selected"))&&
(h=x.getCurrentItem(),!e||c.prioritizeVideos||"chromeless-video"===h.type&&c.autoplayVideo)&&(e=n.getVideoHash(h.color,0,c),-1!==e&&(f+=0,q.dispatch("updateModel",{data:{index:0,thumbnailIndex:f,variant:e.variant,type:c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),f=b.find(".item").get(f),n.selectGivenThumbnail(a(f),b))):(n.selectGivenThumbnail(b.find("img:last"),b),n.fadeToThumbnail(b.find("img").length-1,F,b))}function l(a){var b=x.getCurrentItem().color;if(c.useChildVideos&&
!c.colorToVideo[b]){var f=function(){if(a){c.colorToVideo[b]=a;var f={type:"updatedData",data:x.getCurrentItem()};q.dispatch("updateView",f)}};c.lazyLoadExperienceDisabled?f():z.when(n.rankedImagesReadyEvent(c.colorToAsin[b].asin)).execute(function(){f()})}}function G(a){if(!c.useChildVideos)return n.lazyLoadingRequired(x.getCurrentItem(),x,c)?void 0:c.videos;if(c.colorToVideo[a])return c.colorToVideo[a];var b=c.colorToAsin[a];if(b&&b.asin){var f={};f.params={asin:b.asin,productGroupID:c.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP};c.isDPXFeatureEnabled||(f.success=function(a){l(a)},m.load("/gp/product/features/apparel-main-image/videos.html",f));return c.colorToVideo&&c.colorToVideo[a]}}function t(){q.dispatch("selectThumbnail",n.useTabbedImmersiveView(c)?1:0)}function D(f,h,e,c){return b.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:f[0],streamingUrls:h.url,swfUrl:e.swfUrl,foresterMetadataParams:e.foresterMetadataParams,backgroundColor:"transparent",
flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=n.isjQueryObjDefined(f.find("video"))?"HTML5":"FLASH";k.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){f.parent().css("z-index",8)},videounsupported:function(){t();k.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){t();k.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){u.seek(0)}},cuePoints:[{values:h.durationSeconds-1,type:"position",
callback:function(b,h,e){b=e.durationSeconds-e.playheadTimeSeconds;f.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*b,.1,function(){f.parent().css({"background-color":"transparent","z-index":-1});t();a(this).show().css("opacity",1)})}}]})}function M(b){if("chromeful-video"===b.type||"chromeless-video"===b.type){var e=n.getVideoHash(b.color,b.index,c);if(-1===e)return-1;if("chromeful-video"===b.type){b=F.width()/F.height();var d=parseInt(e.videoWidth,10),k=parseInt(e.videoHeight,
10);n.updateAspectRatio(b,d,k,p);u?(u.show(),n.loadMediaIntoAiry(u,e,f,c.tabletWeb)):u=c.tabletWeb?v:n.createAiryInstanceForChromeful(p,e,f,null,c.autoplayVideo,F,B,r);b:if(n.useTabbedImmersiveView(c)){if(1<n.getVideosCount(x.getCurrentItem().color,c)){if(n.isDefined(J)){B.show();break b}J=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(c.staticStrings.watchMoreVideos);B.find("#videoCaption").append(J);g.declarative.create(J,"videoIngressClick",h)}n.playVideoInImmersiveView(c,
x.getCurrentItem().color)&&(g.declarative.create(p,"videoIngressClick",h),p.attr&&p.attr("data-ux-click",""),p.children().css("z-index","-1"),p.css("display","inline-block"))}else B.find("#videoCaption").text(c.staticStrings.playVideo),B.show();e=u;c.autoplayVideo&&e&&!X&&(n.toggleVideoCaption(B),e.setVolume(0),e.show(),e.play(),X=!0)}else u?(u.show(),n.loadMediaIntoAiry(u,e,f,c.tabletWeb),u.play(),B.show()):(u=D(p,e,f))&&u.play()}}function A(b,f,e){var g=G(f);f=b;n.isDefined(g)&&0<g.length&&c.alwaysIncludeVideo&&
b===c.maxAlts&&(r.find(".item:last").remove(),b--);n.isDefined(g)&&(a.each(g,function(f,e){if(b<c.maxAlts){var d=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",q={type:d,index:f,thumbnailIndex:b,variant:e.variant};h={type:"video-ingress",index:f,thumbnailIndex:b,variant:e.variant};n.useTabbedImmersiveView(c)&&("chromeful-video"===d&&(E+=" videoBlockIngress  videoBlockDarkIngress",e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),c.altsOnLeft||(E+=" a-align-top"));n.createThumbnail(q,
e.thumb,r,E);if(2===c.dp60VideoPosition){var p=r,q=c.dp60VideoPosition;if(0!==q){var x=p.children(".imageThumbnail"),p=p.children(".videoBlockIngress");x&&p&&x[q-1]&&a(x[q-1]).before(p[0])}}n.useTabbedImmersiveView(c)&&(H(r.find(".videoBlockIngress img"),c.videoIngressATFSlateThumbURL),q=1<g.length?"multiple-videos":"one-video",(x=1<g.length?g.length+" "+c.staticStrings.multipleVideos:c.staticStrings.singleVideo)&&r.find(".videoBlockIngress").append(r.find("#videoCount_template").clone().text(x).attr("id",
"videoCount")).addClass(q));U||(U=!0,k.postCountMetric("chromeless-video"===d?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));b++}if(n.useTabbedImmersiveView(c))return!1}),d(r,f,b,e));return b}function H(a,b){var f=a.attr("src");if(f&&b){a.attr("src",b);var h=new Image;h.onload=function(b){a.attr("src",f)};h.src=f}}function N(a){u&&u.pause();a.data=h;a.clickTimeStamp=a.$event.timeStamp;var b="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";q.dispatch("imageClick",
a);k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);k.postCountMetric(b)}function P(a){v=a.airy;v.hide=function(){v.pause();g.$("#main-video-container").find(".vse-player-container").hide()};v.show=function(){g.$("#main-video-container").find(".vse-player-container").show();v.play()};v.getMediaSourceInfo=function(){return n.getMediaSourceInfo()}}var L,c,x,q,r,p,B,F,J,u,f,h,e,v,U=!1,X=!1,E="videoThumbnail";return function(b,d,v,m){L=this;c=b;x=d;q=m;f=c.airyConfig;c.colorToVideo={};
c.colorToVideo[c.landingAsinColor]=c.colorToVideo[c.defaultColor]=c.videos;L.render=function(b,f,h,d,k,q){r=d;p=k.find("#main-video-container");B=p.parent().find("#video-canvas-caption");F=a("#main-image-container");c.useChromelessVideoPlayer||p.addClass("chromeful-container");e=A(f,b,q);M(x.getCurrentItem());n.useTabbedImmersiveView(c)&&g.declarative("videoIngressClick",["click"],N);b=x.getCurrentItem().color;f=n.getVideoHash(b,0,c);-1!==f&&c.tabletWeb&&(b=n.getNilgiriServiceAjaxRequest(c,b,f),y.get(g,
"#main-video-container",b,function(){g.$("#main-video-container").find(".vse-player-container").hide()},function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return e};L.update=function(a){var b=a.data;"ingress"!==b.type&&u&&(u.hide(),p.parent().css("z-index",-1),B.hide());if("swatchHover"===a.type)b.color===x.getCurrentItem().color?M(x.getCurrentItem()):a.captured||n.lazyLoadingRequired(b,x,c)&&!n.lazyLoadOnHoverEnabled(c)&&M(x.getCurrentItem());else if("chromeful-video"===
b.type||"chromeless-video"===b.type)"mouseenter"===a.type&&k.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+e),M(b),c.usePeekHover&&"click"!==a.type||(n.selectGivenThumbnail(a.$declarativeParent,r),"click"===a.type&&n.useTabbedImmersiveView(c)&&(k.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+e),h.action="videoIngressClick",h.clickTimeStamp=a.$event.timeStamp,h.$event=a.$event,h.$currentTarget=a.$currentTarget,q.dispatch("videoIngressClick",h),k.postTimeMetric("dpcc_vse_videoingressclick",
a.$event.timeStamp)))};if(c.isDPXFeatureEnabled)g.on("triggerVideoAjax",l);g.on("vseAiry",P)}});"use strict";z.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(g,a,b,n,m,k,y,d){function l(a){return a.hiRes||a.large||a.main[a.main.length-1]}function G(){w.find("#ivTitle").click(function(){W.hide()})}function I(){O=Oa?{type:"360-spin"}:aa.getCurrentItem()}function D(){var a=
w.find("#ivStage"),b=W.$container.find(".a-popover-wrapper"),f=b.find(".a-popover-inner"),b=b.height()-d.getDimension(f,"padding-top")-d.getDimension(f,"padding-bottom");w.css("height",b);var f=w.find("#ivTitle").outerHeight(!0),h=w.find("#ivVariationSelection").outerHeight(!0),e=w.find("#ivMediaSelection").outerHeight(!0),c=w.find("#ivThumbs"),g=d.getDimension(c,"margin-top")+d.getDimension(c,"margin-bottom");c.css("height",b-f-h-e-g);w.find("#ivLargeImage").css("height",b);a.css("width",w.width()-
d.getDimension(w,"padding-left")-d.getDimension(w,"padding-right")-w.find("#ivThumbColumn").width()-d.getDimension(a,"margin-left")-d.getDimension(a,"margin-right"))}function M(){w.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").show(),"chromeful-video"===O.type&&w.find("#ivVideo_"+O.index).click()):"images"===b?(w.find("#ivVideoList").hide(),w.find("#ivThumbs").show(),w.find(".ivThumbVideo").hide(),
"chromeful-video"===O.type&&(0===ca&&0===V?w.find("#iv360").click():0===ca?w.find("#ivHeroImage_0").click():w.find("#ivImage_0").click())):"videos"===b&&(w.find("#ivVideoList").show(),w.find("#ivThumbs").hide(),"chromeful-video"!==O.type?w.find("#ivVideoList_0").click():w.find("#ivVideoList_"+O.index).click())})}function A(){var a=w.find("#ivStage").find("#ivLargeImage"),b=a.width(),f=a.height(),h=a.find(".fullscreen");h.removeAttr("style");var e=h.width(),d=h.height();0<h.length&&(h[0].naturalWidth&&
(e=h[0].naturalWidth),h[0].naturalHeight&&(d=h[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,d=0===d?1:d,c=Math.min(b/e,f/d),g=d*c,k=e*c;1>c?(Pa?a.css("cursor","url('"+C.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;e=Math.min(k,e);d=Math.min(g-20,d);h.css({"margin-top":(f-d)/2,"margin-left":(b-e)/2,height:d,width:e});a.css("visibility","visible");Aa=!1}function H(a){var b=w.find("#ivLargeImage");
b.css("visibility","hidden");b.empty();d.animateStageIn(b);b.append(a);A()}function N(){da&&da.pause();w.find("#ivLarge360").css("display","none");w.find("#ivLargeVideo").css("display","none");w.find("#ivLargeImage").css("display","none");p()}function P(f){N();w.find("#ivLargeImage").css("display","block");var h;"hero-image"===f?b.isDefined(ha)&&(h=l(ha[O.index])):b.isDefined(ia)&&(h=l(ia[O.index]));if(b.isDefined(h)){w.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",h).addClass("fullscreen"),
c=w.find("#ivLargeImage");d.animateStageOut(c,function(){e.load(function(){H(e)});if(e[0].complete)H(e);else{c.empty();var b=(c.height()-104)/2,f=(c.width()-80)/2;a("\x3cimg\x3e").attr("src",C.staticImages.spinner).css({position:"relative",top:b+"px",left:f+"px"}).appendTo(c)}})}}function L(){var a=parseInt(O.index,10)+1;a>=ga.length||w.find("#ivVideo_"+a).click()}function c(){var a;b.isDefined(ga)&&(a=ga[O.index]);if(b.isDefined(a)){N();var f=w.find("#ivLargeVideo").css("display","block");da?(da.isDetached()&&
da.attach(f[0]),b.loadMediaIntoAiry(da,a,va,C.tabletWeb),da.show()):(da=b.createAiryInstanceForChromeful(f,a,va,"ImmersiveView"),va.enableContinuousPlay&&da.bind("ended",L));da.play({isAsync:!0})}}function x(){I();var a;a="hero-image"===O.type?w.find("#ivHeroImage_"+O.index):"image"===O.type?w.find("#ivImage_"+O.index):"chromeful-video"===O.type||"chromeless-video"===O.type?w.find("#ivVideo_"+O.index):"360-spin"===O.type?w.find("#iv360"):b.isDefined(ha)?w.find("#ivHeroImage_"+O.index):w.find("#ivImage_"+
O.index);b.isjQueryObjDefined(a)||(a=w.find("#ivImage_0"));q(a)}function q(a){w.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(O.type="chromeful-video",O.index=a.attr("id").split("_")[1],c()):a.hasClass("ivHeroImage")?(O.type="hero-image",O.index=a.attr("id").split("_")[1],P(O.type)):a.hasClass("iv360Image")?(O.type="360-spin",O.index=0,r()):(O.type="image",O.index=a.attr("id").split("_")[1],P(O.type))}function r(){N();w.find("#ivLarge360").css("display",
"block");f();var a=w.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});d.animateStageIn(a)},200);F();m.postCountMetric("dppc_click360");ra=Date.now()}function p(){0<ra&&(B("dppc_duration360",Date.now()-ra),ra=0)}function B(a,b){t.ue&&t.ue.count(a,b)}function F(){if(0<oa){var a=w.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function J(b,f){if(oa<b.length){var h=a("\x3cimg /\x3e").css({display:"block",width:6*ma+"px",height:qa+"px"});
h.hide();f.append(h);h.get(0).onload=function(){f.closest(document.documentElement).length&&(oa++,1===oa&&(F(),0<ra&&B("dppc_loadTime360",Date.now()-ra)),0<Ga&&B("dppc_perSpriteloadTime360",Date.now()-Ga),w.find("#iv360Spinner").hide(),h.show(),wa=5*T.imageLocations[Math.floor(xa/T.imageLocations[0].length)][xa%T.imageLocations[0].length],J(b,f))};h.attr("src",b[oa].replace(/(\._SP)\d+(,)\d+/,"$1"+sa+"$2"+ta));Ga=Date.now()}}function u(a){if(b.isDefined(T.spriteWidthSizes)&&0<T.spriteWidthSizes.length){var f=
T.spriteWidthSizes,h=f.length,e=f[0],d=f[h-1];if(a<=e)return e;if(a>d)return d;for(e=0;e<h;e++)if(a>f[e]&&a<=f[e+1])return f[e+1]}else return a}function f(){var b=w.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",
C.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ha=!0,h())}function h(){if(b.isDefined(T.spriteURLs)&&b.isDefined(w)&&Ha&&!Ia){var f=w.find("#ivLarge360"),h=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(T.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",
T.staticImages.hint360).appendTo(h);a("\x3cdiv\x3e").css({"text-align":"center"}).text(C.staticStrings.dragToSpin).appendTo(h);h.appendTo(f);var h=T.imageWidth,d=T.imageHeight,c=f.parent().width(),g=f.parent().height(),k=0,q=0;h/d>c/g?(sa=u(c),ta=Math.round(d/h*sa),ma=Math.ceil(c),qa=Math.ceil(ta/sa*c),q=(g-qa)/2):(ta=u(g),sa=Math.round(h/d*ta),qa=Math.ceil(g),ma=Math.ceil(sa/ta*g),k=(c-ma)/2);f.css({"margin-left":k,"margin-top":q,width:ma+"px",height:qa+"px",overflow:"hidden",position:"relative"});
f.children("#image-360-sprites").css("width",6*ma+"px");J(T.spriteURLs,w.find("#image-360-sprites"),0);h=w.find("#ivLarge360");h.bind("mousedown",X);h.bind("touchstart",e);h.bind("touchmove",v);h.bind("touchend",U);a(document).bind("mousemove",E);a(document).bind("mouseup",K);b.isDefined(C.staticImages.grab)&&f.css("cursor","url('"+C.staticImages.grab+"'), auto");Ia=!0}}function e(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function v(a){Ba&&(Q(a.originalEvent.targetTouches[0].clientX-Ja),
Ja=a.originalEvent.targetTouches[0].clientX)}function U(a){Ba&&(Ba=!1)}function X(a){Ca=!0;fa=a.originalEvent.clientX;b.isDefined(C.staticImages.grabbing)&&(a=w.find("#ivLarge360"),a.css("cursor","url('"+C.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+C.staticImages.grabbing+"'), auto"));return!1}function E(a){Ca&&(Q(a.originalEvent.clientX-fa),fa=a.originalEvent.clientX)}function K(a){Ca&&(Ca=!1,b.isDefined(C.staticImages.grab)&&(a=w.find("#ivLarge360"),
a.css("cursor","url('"+C.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function Q(a){for(a=wa-=a/ma*180;0>a;)a+=360;for(;360<a;)a-=360;wa=a;var f;a=360;for(var h=0;h<oa;h++)for(var e=0;e<T.imageLocations[h].length;e++){var d=Math.abs(wa-5*T.imageLocations[h][e]);d<a&&(a=d,f=h*T.imageLocations[0].length+e)}f!==xa&&(a=Math.floor(f/T.imageLocations[0].length),a!==Math.floor(xa/T.imageLocations[0].length)&&(b.isDefined(Ka)||(Ka=document.createElement("canvas").getContext("2d")),
h=w.find("#image-360-sprites").children(),Ka.drawImage(h[a],0,0)),a=w.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));xa=f;a=f%T.imageLocations[0].length*-1*ma;f=-1*Math.floor(f/T.imageLocations[0].length)*qa;h=w.find("#ivLarge360").children("#image-360-sprites");h.css("-webkit-transform","translate3d("+a+"px, "+f+"px, 0)");h.css("transform","translate3d("+a+"px, "+f+"px, 0)")}function ea(){w.delegate(".ivThumb","click",function(){var b=
a(this);q(b)});w.delegate(".ivThumbVideoListOuter","click",function(){w.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");O.type="chromeful-video";O.index=b.attr("id").split("_")[1];c()})}function R(){da&&!da.isDetached()&&(va.volume=da.getVolume(),da.detach(),!document.all||t.atob||document.addEventListener||(da=null));w.find("#ivLargeImage").empty();p()}function S(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function ba(b){var f=pa.left-(b.pageX-Da[0])*
Ea;g.capabilities.rtl&&(f=pa.left-(a(t).width()-b.pageX-Da[0])*Ea);b=pa.top-(b.pageY-Da[1])*Ea;f=S(f,Fa.left);b=S(b,Fa.top);w.find(".fullscreen").css({left:f,top:b})}function ya(){w.delegate("#ivLargeImage","click",function(a){if(Aa)A();else if(za){w.find(".fullscreen").removeAttr("style");if(za){var b=w.find("#ivLargeImage"),f=b.find(".fullscreen");Pa?b.css("cursor","url('"+C.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));
Aa=!0;var h=w.find("#ivLargeImage");Fa.left=h.width()-f.width();Fa.top=h.height()-f.height();var h=b.height()/2,e=b.width()/2;Da=[b.offset().left+e,b.offset().top+h];pa.top=h-f.height()/2;pa.left=e-f.width()/2;f.css({position:"relative",left:pa.left,top:pa.top});Ea=Math.max(f.height()/b.height(),f.width()/b.width())}ba(a)}});w.delegate("#ivLargeImage","mousemove",function(a){Aa&&ba(a)})}function la(f){if(b.isImmersiveViewEnabled(C,aa.getCurrentItem().color))if(La){var h=f.$event.originalEvent;h.acknowledge&&
h.acknowledge(f.$currentTarget[0]);Oa=b.isDefined(f)&&"button-360-click"===f.action;k.isEnabled&&y.logImmersiveViewRequestServed(k);m.postCountMetric("dppc_immersiveViewOpened");if(b.isDefined(W))W.show();else{f=a("#auiImmersiveViewDiv");var h=a(t).height()-150,e=a(t).width()-75;W=La.create(f,{name:"immersiveView",activate:"onclick",width:e,height:h,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(Ma){w=a("#ivMain");f=aa.getCurrentItem().color;ia=C.colorImages[f];ha=C.heroImage[f];ga=C.useChildVideos?
C.colorToVideo[f]:C.videos;Na=Y()&&C.spin360ColorEnabled[f];T=Y()?C.spin360ColorData[f]:void 0;I();ka=V=na=ca=0;b.isDefined(ha)&&(V=ha.length);b.isDefined(ia)&&(ca=ia.length);b.isDefined(ga)&&(na=ga.length);Na&&(ka=1);d.populateTitle(w.find("#ivTitle"),45,C);d.populateVariationSelection(w.find("#ivVariationSelection"));f=w.find("#ivMediaSelect");0===ca+ka||0===na?(f.parent().hide(),w.find("#ivThumbs").addClass("noMediaSelection")):(f.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",
!0).text(C.staticStrings.allMedia+" ("+(V+ca+ka+na)+")").appendTo(f),a("\x3coption/\x3e").attr("value","images").text(C.staticStrings.images+" ("+(V+ca+ka)+")").appendTo(f),a("\x3coption/\x3e").attr("value","videos").text(C.staticStrings.videos+" ("+na+")").appendTo(f),f.parent().show(),f.val("all"));f=w.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var h=V+ca+na+ka,c=e=0;e<h;)for(var q=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),p=0;3>p&&e<h;p++,
e++,c++)if(c<V){var r=ha[e].thumb,x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+e).appendTo(q);x.find(".ivThumbImage").css("background",'url("'+d.getResizedThumbnailURL(r)+'") center no-repeat')}else if(c>=V&&c<ca+V)r=ia[e-V].thumb,x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-V)).appendTo(q),x.find(".ivThumbImage").css("background",'url("'+d.getResizedThumbnailURL(r)+'") center no-repeat');
else if(c>=V+ca&&c<ca+V+ka)x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(q),x.find(".ivThumbImage").css("background",'url("'+(b.isDefined(C.staticImages.icon360)?d.getResizedThumbnailURL(C.staticImages.icon360,!0):"")+'") center no-repeat');else if(r=ga[e-ca-V-ka],x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(e-ca-V-ka)).appendTo(q),x.find(".ivThumbImage").css("background",
'url("'+r.thumbUrl+'") center no-repeat'),b.isDefined(r)){var v={position:"triggerTop"},l=w.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");l.find(".ivVideoPopoverTitle").text(r.title);l.find(".ivVideoPopoverDuration").text(r.durationTimestamp);v.inlineContent=l[0];g.declarative.create(x,"a-tooltip",v)}f=w.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();h=f.find(".placeholder");for(e=0;e<na;e++)c=ga[e],q=h.clone().removeClass("placeholder").appendTo(f),
q.attr("id","ivVideoList_"+e),q.find(".ivThumbImage").css("background",'url("'+c.thumbUrl+'") center no-repeat'),q.find(".ivThumbTitle").text(c.title),q.find(".ivThumbDuration").text(c.durationTimestamp);w.find("#ivLarge360").empty();oa=0;Ia=Ha=!1;va=C.airyConfig;Ma=!1;Qa()}}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function ua(a){var f=
C.colorToAsin[a],e={},c=500;if(f&&f.asin){e.params={asin:f.asin};var d="360"+f.asin,g=Date.now();e.success=function(f){B("dppc_asyncRequestTime360",Date.now()-g);f&&b.isDefined(f.spin360.spin360Model)?(b.ajaxState(d,"success"),C.spin360ColorData[a]=f.spin360.spin360Model,a===aa.getCurrentItem().color&&(T=C.spin360ColorData[a],h())):e.error()};e.error=function(){m.postCountMetric("dppc_asyncFailed360");B("dppc_asyncRequestTime360",Date.now()-g);c*=2;16E3>=c?setTimeout(function(){g=Date.now();n.load("/gp/product/features/apparel-main-image/360.html",
e)},c):b.ajaxState(d,"fail")};b.ajaxState(d)&&"fail"!==b.ajaxState(d)||(n.load("/gp/product/features/apparel-main-image/360.html",e),b.ajaxState(d,"sent"))}}function Y(){return b.isDefined(C.spin360ConfigEnabled)&&C.spin360ConfigEnabled}var Z,C,aa,ja,W,w,ha,ia,ga,V,ca,na,ka,O,da,va,T,Na,ma,qa,ta,sa,fa,Ja,Oa=!1,Ha=!1,Ia=!1,wa=0,xa=0,ra=0,Ga=0,Ca=!1,Ba=!1,oa=0,Ka,Pa=navigator.userAgent.match(/msie|trident/i),Ma=!0,Aa=!1,za=!1,Fa={},pa={},Ea,Da,La;z.when("a-modal").execute(function(a){La=a});var Qa=
g.once(function(){M();ea();ya();g.on("a:popover:afterUpdatePosition:immersiveView",D);g.on("a:popover:afterShow:immersiveView",x);g.on("a:popover:afterHide:immersiveView",R);G()});return function(f,h,e,c){Z=this;C=f;aa=h;k.refToModel=aa;ja=c;Y()&&(C.spin360ColorData[C.landingAsinColor]=C.spin360ColorData[C.defaultColor],C.spin360ColorEnabled[C.landingAsinColor]=C.spin360ColorEnabled[C.defaultColor]);b.isDefined(C.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
d.addStyleCodeToURL(C.staticImages.icon360,"_FMpng_RI_"));Z.render=function(a,f,h,e,c,d){Ma=!0;Y()&&C.spin360ColorEnabled[a]&&!b.isDefined(C.spin360ColorData[a])&&(C.spin360ColorData[a]={},ua(a));b.isImmersiveViewEnabled(C,aa.getCurrentItem().color)&&Y()&&C.spin360ColorEnabled[a]&&(f===C.maxAlts&&(a=e.find(".item.imageThumbnail"),h=e.find(".item.videoThumbnail"),b.isDefined(h)&&1<h.length?h.last().remove():a.last().remove(),f--),a=e.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
g.declarative.create(a,"button-360-click"),e.append(a),f++,m.postCountMetric("dppc_display360"));return f};Z.update=function(a){};b.isImmersiveViewEnabled(C,aa.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");ja.register("imageClick",la);ja.register("button360Click",la)}});"use strict";z.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(g,a,b,n,m,k,y){function d(){var b=
M.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-y.getDimension(c,"padding-top")-y.getDimension(c,"padding-bottom");a("#iv-tab-view-container").css("height",b);N=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<N?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),c=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=c):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();
a("#iv-tab-view-container .iv-tab-content").css("height",b);g.trigger("dp:image-block:immersive-view:resize")}function l(){g.trigger("dp:image-block:immersive-view:reset")}function G(d){if(b.isImmersiveViewEnabled(D,M.getCurrentItem().color))if(L){var x=d.$event.originalEvent;x.acknowledge&&x.acknowledge(d.$currentTarget[0]);m.isEnabled&&k.logImmersiveViewRequestServed(m);n.postCountMetric("dppc_immersiveViewOpened");b.isDefined(d)&&("button-360-click"===d.action?a("#iv360TabHeading").click():"videoIngressClick"===
d.action?(P=d.clickTimeStamp,a("#ivVideosTabHeading").click()):a("#ivImagesTabHeading").click());x=M.getImmersiveViewModalInstance();if(b.isDefined(x))x.show();else{d=a("#auiImmersiveViewDiv");var x=Math.min(Math.max(a(t).height()-150,540),1080),p=Math.min(Math.max(a(t).width()-75,990),1980),x=L.create(d,{name:"immersiveView",activate:"onclick",width:p,height:x,popoverLabel:"ImmersiveView",hideHeader:!0});M.setImmersiveViewModalInstance(x);d.click()}H&&(H=!1,c(),g.trigger("dp:image-block:immersive-view:init"))}else t.performance&&
performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else n.postCountMetric("immersiveViewNotExistsClickCount")}var I,D,M,A,H=!0,N=0,P,L;z.when("a-modal").execute(function(a){L=a});var c=g.once(function(){g.on("a:popover:afterUpdatePosition:immersiveView",d);g.on("a:popover:afterShow:immersiveView",d);g.on("a:popover:afterHide:immersiveView",l)}),x=g.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",
function(d){var c=b.filter(".iv-active");c.attr("id")!==a(this).attr("id")&&g.trigger("dp:ivTabs:"+c.find("a").attr("data-iv-tab-view")+":deselect",d);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();c=a(this).find("a").attr("data-iv-tab-view");a("#"+c).show();"ivVideosTab"===c&&(d.clickTimeStamp=P||d.timeStamp);g.trigger("dp:ivTabs:"+c+":select",d);n.postCountMetric("dppc_"+c);return!1})});return function(a,c,d,g){I=this;D=a;M=c;m.refToModel=
M;A=g;I.render=function(a,b,c,f,h,e){n.postCountMetric("dpcc_altThumbs_"+b);H=!0};I.update=function(a){};I.getTitle=function(){};I.getVariationSelectionInfo=function(){};x();b.isImmersiveViewEnabled(D,M.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");A.register("imageClick",G);A.register("button360Click",G);b.useTabbedImmersiveView(D)&&A.register("videoIngressClick",G)}});"use strict";z.when("A").register("ImageBlockLoader",function(g){return{load:function(a,b){b=b||{};b.timeout=b.timeout||
4E3;g.ajax(a,b)}}});"use strict";z.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",function(g,a,b,n,m,k,y,d){function l(a){return null!==a&&"undefined"!==typeof a}function G(b){var h=0;a.each(b,function(a,b){var f=parseInt(b[1],10);f>h&&(h=f)});return h}function I(b){var h=0;a.each(b,function(a,b){var f=parseInt(b[0],10);f>h&&(h=f)});return h}function D(a,b,e){b=b.width();if(e.naturalMainImageSize)return b;
a=G(a);0<a&&(b=Math.min(b,a));return b}function z(a,b,e){b=b.height();if(e.naturalMainImageSize)return b;a=I(a);0<a&&(b=Math.min(b,a));return b}function A(b){var h;a.each(b,function(a,b){l(h)||(h=b[1]/b[0])});return h||1}function H(a,b,e){b.fadeTo(500,0,function(){P(a,e);b.fadeTo(500,1)})}function N(a){a&&a.toggle()}function P(b,h){var e=h.find("img");l(e[b])&&a(e[b]).click()}function L(a,b){u[a]=b?b:u[a];return u[a]}function c(b,h,e){e=e||J;e=e.colorImages;if(1>e.length||!l(e[b])||!l(h))return-1;
var c=-1;a.each(e[b],function(a,b){b.variant===h&&(c=a)});return c}function x(b,h,e){e=e||J;e=e.colorImages;return!(l(e)&&l(e[b])&&l(e[b][h])&&l(e[b][h].main))||1>a.map(e[b][h].main,function(a,b){return b}).length?-1:e[b][h]}function q(a,b,e,c){c.parent().css("z-index",2);0!==e&&0!==b&&(b/=e,a>b?c.css("width",b/a*100+"%"):c.css("height",a/b*100+"%"))}function r(b,h){var e;if(e=b.useIV)e=b.colorImages&&b.colorImages[h]&&0<b.colorImages[h].length?!0:!1;y.isEnabled&&(y.IVApplicaple=e,d.logImmersiveViewApplicability(a,
y));return e}var p,B,F,J=a.extend(!0,{},m,k),u={};return{isDefined:l,isDefinedAndEmpty:function(a){return l(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return l(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return l(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:A,getMaxHeightOfMainImage:z,getMaxWidthOfMainImage:D,getMaxDimensionsOfMainImage:function(a,
b,e){if(e.acEnabled)return[b.height(),b.width()];var c=z(a,b,e);b=D(a,b,e);a=A(a);e=b/a;b=Math.min(b,c*a);c=Math.min(c,e);return[c,b]},getContainerHeight:function(a,b,e){var c=a.get(0);a=0;if(l(c)){a=c.offsetWidth/b;a=Math.min(a,e);var d;b=J.mainImageHeightPartitions;e=J.mainImageMaxSizes;if(l(e)&&l(b)){for(var g=0,k=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=0;c<b.length;c++)k>b[c]&&(g=c+1);e.length>=g&&(d=e[g])}l(d)&&(a=Math.min(d[1],a))}return a},getColorFromState:function(b,
h){if(b){h=h||J;var e="";a.each(h.visualDimensions,function(a,h){b[h]&&(e+=" "+b[h])});return e&&e.substring(1)}},createThumbnail:function(a,b,e,c){var d=e.find(".template").clone().removeClass("template").addClass("item"),k=document.createElement("img");k.src=b;d.find(".placeHolder").replaceWith(k);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&d.addClass("heroImageThumbnail");l(c)&&d.addClass(c);g.declarative.create(d,"thumb-action",a);d.attr&&d.attr("data-ux-click","");e.append(d)},
selectGivenThumbnail:function(a,b){var e=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");e.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(f,h,e,c,d,g,k,q){var x=a.extend({},e.foresterMetadataParams);null!==c&&(x.method+="."+c);var l=[];h.disabledViewIds&&(l=h.disabledViewIds);return b.embed({parentElement:f[0],streamingUrls:h.url,contentId:h.mediaObjectId,contentMinAge:Number(h.minimumAge||"")||
0,contentTitle:h.title,swfUrl:e.swfUrl,foresterMetadataParams:x,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:h.slateUrl,postMediaSlate:h.slateUrl},videoAds:e.videoAds,bindings:{play:function(){"ImmersiveView"===c?p||(p=!0,n.postCountMetric("dppc_chromefulVideoPlayedIV")):B||(B=!0,n.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:h.durationSeconds-1,type:"position",callback:function(a,b,f){d&&(H(0,g,q),N(k))}}],disabledViewIds:l})},loadMediaIntoAiry:function(a,
b,e,c){a&&a.getMediaSourceInfo()!==b.url&&(c?(F={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(F)):a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:H,toggleVideoCaption:N,selectThumbnail:P,spinner:function(b,h){var e=a("#imageBlock .a-spinner").parent();0===e.length&&(e=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px",
"-moz-border-radius":"20px","border-radius":"100%"}));h?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:L,getIndexForVariant:c,getImageHash:x,lazyLoadingRequired:function(a,b,e){b=Math.max(c(a.color,b.getCurrentItem().variant,e),0);b=-1!==x(a.color,b,e);a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a=!a||"success"!==L(a);return!e.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},
updateAspectRatio:q,repositionVideoBanner:function(a,b,e,c){setTimeout(function(){var e=a.width()/a.height();q(e,16,9,b)},c||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,e){if(e.useChildVideos){if(!l(e.colorToVideo))return-1;a=e.colorToVideo[a]}else a=e.videos;return l(a)&&l(a[b])&&l(a[b].url)?a[b]:-1},isImmersiveViewEnabled:r,playVideoInImmersiveView:function(a,b){return r(a,b)&&a.useTabbedImmersiveView},
useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return l(F)?F.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,e){b=a.colorToAsin[b]&&a.colorToAsin[b].asin;b=l(b)?b:a.mediaAsin;return{pageContext:{page:"DetailPageTablet",placement:"ImageBlock",marketplaceID:e.marketPlaceID,locale:e.languageCode,requestId:a.requestId,product:{contentID:b,contentIDType:"ASIN"},video:{contentID:e.mediaObjectId,contentIDType:"ASIN",imageURL:e.slateUrl,
videoURL:e.url}},configuration:{id:"div-light-player",type:"lightplayer",binder:"lightplayer",assets:["VSECommonComponentAssets","Brila"],features:{features:{placementcontext:"vse_ib_tablet_web"}}}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)}}});"use strict";z.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(g,a,b,n){function m(c,d,g,k){if(!b.isjQueryObjDefined(c.find(".a-button-selected"))){var l=H.getCurrentItem();if(!k||"chromeless-video"!==
l.type||!A.autoplayVideo){k=0;if("hero-image"===l.type){k=y(l.color,l.variant);if(-1===k)return;k=-1!==k?k:0}var m=d+k;m>=g&&(k=0,m=d);d=n.getHeroImageHash(A,l.color,k);-1!==d&&(N.dispatch("updateModel",{data:{index:k,thumbnailIndex:m,variant:d.variant,type:"hero-image"}}),d=c.find(".item").get(m),b.selectGivenThumbnail(a(d),c))}}}function k(c,d,g){if("hero-video"===H.getCurrentItem().type)return c;d=A.heroImage&&A.heroImage[d];var k=c;b.isDefined(d)&&(a.each(d,function(a,d){c<A.maxAlts&&(b.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:c,variant:d.variant},d.thumb,P,"imageThumbnail"),c++)}),m(P,k,c,g));return c}function y(c,d){var g=A.heroImage;if(1>g.length||!b.isDefined(g[c])||!b.isDefined(d))return-1;var k=-1;a.each(g[c],function(a,b){b.variant===d&&(k=a)});return k}function d(){if(L.length&&A.repositionHeroImage){var a=n.getHeroDimParams(A,H.getCurrentItem()),c;b.isDefined(a)&&(c=b.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",L.css({"background-position":c,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function l(a,c,d,g){if(L.length&&a&&c){if("function"===typeof d||g){var k=new Image;k.onload=g?function(){L.css("background-image",'url("'+a+'")')}:d;k.src=a}d=c[1];var k=c[0],l;g||L.css({"background-image":'url("'+a+'")'});A.repositionHeroImage&&(c=n.getHeroDimParams(A,H.getCurrentItem(),c),b.isDefined(c)&&(d=c.width,k=c.height,l=b.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+
"px "));L.css({"background-position":l,"background-size":d+"px "+k+"px ","max-width":d+"px ","min-height":k+"px ",filter:"","-ms-filter":""})}}function G(b,c,d,g){b=n.getHeroImageHash(A,b,c);if(-1===b)return-1;c=a.map(b.main,function(a,b){return b})[0];l(c,b.main[c],d,g)}function t(a,b,c){if("hero-image"!==a.type)return-1;var d=y(a.color,H.getCurrentItem().variant),d=-1!==d?d:0;if(-1===n.getHeroImageHash(A,a.color,d))return-1;var g=H.getCurrentItem();a.thumbnailIndex=g.thumbnailIndex;a.type=g.type;
a.variant=g.variant;a.index=d;D(a,b,c)}function D(a,b,d){var k=n.getHeroImageHash(A,a.color,a.index),l;l=a&&c&&g.equals(a,c)?!0:!1;c||(c=a);if(!l&&a||b)G(a.color,a.index,b,d),c=a;L.removeClass("hide-background");g.trigger("dp:image-block:update",k)}var z,A,H,N,P,L,c={};return function(c,g,l,y){z=this;A=c;H=g;N=y;A.heroImage[A.landingAsinColor]=A.heroImage[A.defaultColor];z.render=function(b,c,d,g,f,h,e){P=g;L=a("#heroImage");b=k(c,b,h);t(H.getCurrentItem(),e,h);return b};z.update=function(a){var c=
a.data;"ingress"!==c.type&&L.addClass("hide-background");"swatchHover"===a.type?a.captured||(c.type=H.getCurrentItem().type,-1!==t(c)&&(a.captured=!0)):"hero-image"===c.type&&(D(c),"click"!==a.type&&A.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,P))};N.register("resize",d)}});"use strict";z.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(g,a,b){var n,m,k,y;return function(a,l,G,t){n=this;m=a;k=t;n.render=function(a,d,k,l,G,t,z){y=l;n=this;k=m.maxAlts;
l=d;G=m.colorImages[a]?m.colorImages[a].length:0;G+=b.getVideosCount(a,m);a=m.heroImage[a];t=0;a&&(t=a.length);a=G+t;a>k&&(k=a-k,a=y.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),k+="+",l={type:"ingress",index:0,thumbnailIndex:d,variant:""},a.find("#altIngressText").append(k),g.declarative.create(a,"thumb-action",l),y.append(a),l=d++);return l};n.update=function(a){"ingress"===a.data.type&&"click"===a.type&&k.dispatch("imageClick",
a)}}});"use strict";z.when("imageBlockUtils").register("ImageBlockState",function(g){return function(a,b,n){this.getImageHash=function(b){var k=n.getCurrentItem();b=g.getIndexForVariant(k.color,b||"MAIN",a);return g.getImageHash(k.color,b,a)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";z.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(g,a){function b(a,b){var d;if(b.repositionHeroImage){d=
a[1];var g=a[0];if(768>=(t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))d*=.7,g*=.7;else{var m=((t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,m=Math.max(Math.min(m,1),0);d*=.7+.3*m;g*=.7+.3*m}d=[d,g]}return d}function n(b,g,d){var l;if(d.repositionHeroImage){var m=t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;d=d.heroFocalPoint;if(a.isDefined(d)){l=Math.max((m-Math.min(1500,b))/2,0);var n=
Math.max((m-b)/2,0);l-=n;m=Math.max(Math.min(m,1500),1024);l=l+(m-420-23)/2-b/g[1]*d}}return l}function m(b,m,d){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[m])&&a.isDefined(b[m][d])&&a.isDefined(b[m][d].main))||1>g.map(b[m][d].main,function(a,b){return b}).length?-1:b[m][d]}return{getHeroImageHash:m,getHeroDimParams:function(k,y,d){if(k.repositionHeroImage){if(!a.isDefined(d)){d=m(k,y.color,y.index);if(-1===d)return;y=g.map(d.main,function(a,b){return b})[0];d=d.main[y]}y=b(d,k);k=n(y[0],
d,k);return{height:y[1],width:y[0],xPos:k,yPos:75}}}}});"use strict";z.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(g,a,b){function n(a,m){var d=g.copy(a);if(b.isDefined(a)&&a.length>m){try{for(var l=-1,n=0;n<a.length;n++){var t=a.charAt(n);if(" "===t||"."===t||"?"===t||";"===t||","===t||":"===t)l=n;if(n===m-4){d=a.substring(0,-1===l?n:l);break}}}catch(z){d=a.substring(0,m-3)}d+="..."}return d}function m(a,b){var d=a.lastIndexOf(".");return a="_"===a.charAt(d-
1)?a.substring(0,d-1)+b+a.substring(d):a.substring(0,d)+"."+b+a.substring(d)}return{getDimension:function(a,b){var d=parseInt(a.css(b),10);return isNaN(d)?0:d},attachTabSelectHandler:function(a,b){g.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,b){g.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){g.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){g.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){g.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:m,getResizedThumbnailURL:function(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var d="_AA50_";b&&(d+="FMpng_RI_");return m(a,d)},populateVariationSelection:function(g){if(b.isDefined(t.DetailPage)&&b.isDefined(t.DetailPage.StateController)){g.empty();
var m=t.DetailPage.StateController.getState(),d=m.variation_label_order,l;for(l in d)if(d.hasOwnProperty(l)){var n=d[l],z=m.selected_variations[n],n=m.variation_display_labels[n];z&&a("\x3cdiv/\x3e").addClass("ivVariations").text(n+":"+z).appendTo(g)}}},populateTitle:function(a,b,d){a.html(d.title);a.attr("title",a.text());a.html(n(d.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,d,g){t.ueLogError&&
t.ueLogError(g,{logLevel:a,attribution:b,message:d})}}});"use strict";z.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(g,a,b,n,m){function k(){m.populateTitle(r.find("#ivTitle"),160,x)}function y(){var a=q.getCurrentItem().color;B=x.colorImages[a];p=x.heroImage[a];F=J=0;b.isDefined(p)&&(F=p.length);b.isDefined(B)&&(J=B.length)}function d(a){return a.hiRes||a.large||a.main[a.main.length-1]}function l(){var a=r.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var h=d.width(),g=d.height();0<d.length&&(d[0].naturalWidth&&(h=d[0].naturalWidth),d[0].naturalHeight&&(g=d[0].naturalHeight));a.css("cursor","auto");var h=0===h?1:h,g=0===g?1:g,k=Math.min(b/h,c/g),l=g*k,m=h*k;1>k?(f?a.css("cursor","url('"+x.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),v=!0):v=!1;h=Math.min(m,h);g=Math.min(l-20,g);d.css({"margin-top":(c-
g)/2,"margin-left":(b-h)/2,height:g,width:h});a.css("visibility","visible");e=!1}function t(a){var b=r.find("#ivLargeImage");b.css("visibility","hidden");b.empty();m.animateStageIn(b);b.append(a);l()}function z(c){r.find("#ivLargeImage").css("display","none");r.find("#ivLargeImage").css("display","block");var e;"hero-image"===c?b.isDefined(p)&&(e=d(p[u.index])):b.isDefined(B)&&(e=d(B[u.index]));if(b.isDefined(e)){r.find(".fullscreen").remove();var f=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),
h=r.find("#ivLargeImage");m.animateStageOut(h,function(){f.load(function(){t(f)});if(f[0].complete)t(f);else{h.empty();var b=(h.height()-104)/2,c=(h.width()-80)/2;a("\x3cimg\x3e").attr("src",x.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(h)}})}}function D(a){r.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?u.type="hero-image":u.type="image";u.index=a.attr("id").split("_")[1];z(u.type);n.postCountMetric("dpcc_iv_thumbCLick_"+
(parseInt(u.index,10)+1)+"_"+(F+J))}function M(){r.delegate(".ivThumb","click",function(){var b=a(this);D(b)})}function A(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function H(a){var b=X.top-(a.pageY-K[1])*E;a=A(X.left-(a.pageX-K[0])*E,U.left);b=A(b,U.top);r.find(".fullscreen").css({left:a,top:b})}function N(){r.delegate("#ivLargeImage","click",function(a){if(e)l();else if(v){r.find(".fullscreen").removeAttr("style");if(v){var b=r.find("#ivLargeImage"),c=b.find(".fullscreen");f?b.css("cursor",
"url('"+x.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));e=!0;var d=r.find("#ivLargeImage");U.left=d.width()-c.width();U.top=d.height()-c.height();var d=b.height()/2,h=b.width()/2;K=[b.offset().left+h,b.offset().top+d];X.top=d-c.height()/2;X.left=h-c.width()/2;c.css({position:"relative",left:X.left,top:X.top});E=Math.max(c.height()/b.height(),c.width()/b.width())}H(a);n.postCountMetric("dpcc_iv_largeImageCLick")}});
r.delegate("#ivLargeImage","mousemove",function(a){e&&H(a)})}function P(){r.find("#ivLargeImage").empty()}function L(c){if(h){r=a("#ivMain");y();u=q.getCurrentItem();k();m.populateVariationSelection(r.find("#ivVariationSelection"));c=r.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var d=F+J,e=0,f=0;e<d;)for(var g=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),l=0;4>l&&e<d;l++,e++,f++)if(f<F){var n=p[e].thumb,x=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+e).appendTo(g);x.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(n)+'") center no-repeat')}else f>=F&&f<J+F&&(n=B[e-F].thumb,x=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-F)).appendTo(g),x.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(n)+'") center no-repeat'));Q();h=!1}else k();c=a("#ivImagesTab").height();r.css("height",c);d=r.find("#ivTitle").outerHeight(!0);e=r.find("#ivVariationSelection").outerHeight(!0);
f=r.find("#ivThumbs");g=m.getDimension(f,"margin-top")+m.getDimension(f,"margin-bottom");f.css("height",c-d-e-g);r.find("#ivLargeImage").css("height",c);c=r.find("#ivStage");d=r[0]&&r[0].getBoundingClientRect&&Math.floor(r[0].getBoundingClientRect().width)||r.width();c.css("width",d-m.getDimension(r,"padding-left")-m.getDimension(r,"padding-right")-r.find("#ivThumbColumn").width()-m.getDimension(c,"margin-left")-m.getDimension(c,"margin-right"));u=q.getCurrentItem();c="hero-image"===u.type?r.find("#ivHeroImage_"+
u.index):"image"===u.type?r.find("#ivImage_"+u.index):b.isDefined(p)?r.find("#ivHeroImage_"+u.index):r.find("#ivImage_"+u.index);b.isjQueryObjDefined(c)||(c=r.find("#ivImage_0"));D(c)}var c,x,q,r,p,B,F,J,u,f=navigator.userAgent.match(/msie|trident/i),h=!0,e=!1,v=!1,U={},X={},E,K,h=!0,Q=g.once(function(){M();N();m.attachImmersiveViewResizeHandler(L);m.attachTabDeselectHandler("ivImagesTab",P)});return function(b,d,e,f){c=this;x=b;q=d;c.render=function(b,c,d,e,f,g){h=!0;y();0===F+J?m.hideTabHeading("ivImagesTabHeading"):
m.unhideTabHeading("ivImagesTabHeading");1===F+J?a("#ivThumbs").hide():a("#ivThumbs").show()};c.update=function(a){};m.attachTabSelectHandler("ivImagesTab",L)}});"use strict";z.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(g,a,b,n,m,k,y){function d(){B.delegate(".ivThumb","click",function(){var b=a(this);B.find(".ivThumb").removeClass("selected");b.addClass("selected");
b.hasClass("ivThumbVideo")&&(F.type="chromeful-video",F.index=b.attr("id").split("_")[1])})}function l(){if(ba){var b=a("#ivVideosTab").height();B.css("height",b);var c=B.find(".vse-lb-container");J=b-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(Q){B.css({"max-width":Math.floor(1.77*J)});return}var b=B.find(".vse-player-container"),c=B.find(".vse-video-action-strip"),d=B.find(".vse-lb-video-metadata"),e=Math.floor(J-m.getDimension(d,
"height")-m.getDimension(c,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}ea&&(b=B.find(".vse-vertical-scroll"),c=m.getDimension(b,"margin-top")+m.getDimension(b,"margin-bottom"),b.css("max-height",J-c))}function z(){I();u&&u.pause();R=!1;E=!0;v=null;S=!0;ba=!1}function I(){R=!1;u&&u.pause()}function D(c){v=c.clickTimeStamp?
c.clickTimeStamp:g.now();b.isDefined(p)&&(p.eventTimestamp=v);K&&(y.get(g,"#ivVideoBlock",r,Y,Z),B=a("#ivVideoBlock"),q.getCurrentItem(),F=q.getCurrentItem(),ya());l();R=!0;K=!1;H()}function M(b){K&&(B=a("#ivVideoBlock"),q.getCurrentItem(),F=q.getCurrentItem(),ya());R&&H();l()}function A(a){u=a.player;ba&&(L(),H())}function H(){if(u&&R&&(B.find(".vse-lb-container").animate({opacity:1},200),u.play(p),n.postCountMetric("dpcc_vse_videoBlock_video_played"),E)){var a=t.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),
a=(new Date).getTime()-a,n.postTimeMetric("dpcc_vse_vitff",a),E=!1)}}function N(){g.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function P(a){f=a.popover.$popover;ba=!0;L()}function L(){ba&&S&&R&&u&&(f.addClass(g.$(f).find(".vse-lb-container").data("cssClass")),g.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:p}),l(),S=!1)}var c,x,q,r,p,B,F,J,u,f,h,e,v,U,X,E=!0,K=!0,Q=!1,ea=!1,R=!1,S=!0,ba=!1,ya=g.once(function(){d();m.attachImmersiveViewResizeHandler(M);
m.attachTabDeselectHandler("ivVideosTab",I);m.attachImmersiveViewResetHandler(z)}),la=function(c,d,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");n.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);c=q.getCurrentItem().color;c=b.getVideoHash(c,0,x);u||(u=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),c,x.airyConfig,"ImmersiveView"));Q=!0;a("#ivVideoBlock").css({"max-width":1.77*J,margin:"0 auto"});R&&Q&&u.play({isAsync:!0})},fa=function(b,c,d){K||y.get(b,"#ivVideoBlock",
r,Y,Z);a("#ivVideoBlockSpinner").addClass("aok-hidden")},Y=function(a,b,c){ea=!0;l()},Z=function(a,b,c){n.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,d,f,l){c=this;x=a;q=d;c.render=function(a,c,d,f,l,n){a=q.getCurrentItem().color;c=b.getVideoHash(a,0,x);!0===n?h=x.mediaAsin:(h=x.colorToAsin[a]&&x.colorToAsin[a].asin,h=b.isDefined(h)?h:x.mediaAsin);e=null!==x.vseVideoDataSourceTreatment&&"T1"===x.vseVideoDataSourceTreatment?
"ASIN":"physicalID";U=x.contentWeblab;X=x.contentWeblabTreatment;K=!0;-1===c?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),r={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:c.marketPlaceID,locale:c.languageCode,product:{contentID:h,contentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:e,videoURL:c.url,imageURL:c.slateUrl},requestId:x.dpRequestId,weblabContext:[{name:U,assignment:X,ignoreForG2S2Key:!0}],metadata:{ProductTitle:x.title}},
p={videoUrl:r.video.videoURL,contentId:r.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(v)?v:g.now(),imageUrl:r.video.imageURL,productAsin:r.product.contentID,index:0},b.isDefinedAndNotEmpty(u)&&(u.destroy(),u=null),k.get(g,"#ivVideoBlock",r,fa,la))};c.update=function(a){};m.attachTabSelectHandler("ivVideosTab",D);g.on("vsePlayer-detailpage-imageblock",A);g.on("a:popover:afterShow:immersiveView",P);g.on("a:popover:beforeHide:immersiveView",N)}});"use strict";z.when("A","jQuery",
"imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(g,a,b,n,m,k,y,d,l){function t(){var b=a("#iv360Tab").height();E.css("height",b);var c=E.find("#ivTitle360").outerHeight(!0),d=E.find("#ivVariationSelection360").outerHeight(!0),e=E.find("#ivThumbs360"),f=y.getDimension(e,"margin-top")+y.getDimension(e,"margin-bottom");e.css("height",b-c-d-f);b=E.find("#ivStage360");
c=E[0]&&E[0].getBoundingClientRect&&Math.floor(E[0].getBoundingClientRect().width)||E.width();b.css("width",c-y.getDimension(E,"padding-left")-y.getDimension(E,"padding-right")-E.find("#ivThumbColumn360").width()-y.getDimension(b,"margin-left")-y.getDimension(b,"margin-right"))}function z(){H();var a=E.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});y.animateStageIn(a)},200);D()}function D(){if(0<w){var a=E.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},
200)}}function M(b,c){if(w<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*Q+"px",height:ea+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(w++,1===w&&(D(),0<C&&(m.time("dppc_loadTime360",Date.now()-C,v.mediaAsin),k.postTimeMetric("dppc_loadTime360",Date.now()-C))),0<aa&&(m.time("dppc_perSpriteloadTime360",Date.now()-aa,v.mediaAsin),k.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-aa)),E.find("#iv360Spinner").hide(),d.show(),
Y=5*K.imageLocations[Math.floor(Z/K.imageLocations[0].length)][Z%K.imageLocations[0].length],M(b,c))};d.attr("src",b[w].replace(/(\._SP)\d+(,)\d+/,"$1"+S+"$2"+R));aa=Date.now()}}function A(a){if(b.isDefined(K.spriteWidthSizes)&&0<K.spriteWidthSizes.length){var c=K.spriteWidthSizes,d=c.length,e=c[0],f=c[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>c[e]&&a<=c[e+1])return c[e+1]}else return a}function H(){var b=E.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),
b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",v.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),la=!0,N())}function N(){if(b.isDefined(K.spriteURLs)&&b.isDefined(E)&&la&&!ua){var d=E.find("#ivLarge360"),
e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(K.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",K.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(v.staticStrings.dragToSpin).appendTo(e);e.appendTo(d);var e=K.imageWidth,f=K.imageHeight,h=d.parent().width(),g=d.parent().height(),k=0,l=0;e/f>h/g?(S=A(h),R=Math.round(f/
e*S),Q=Math.ceil(h),ea=Math.ceil(R/S*h),l=(g-ea)/2):(R=A(g),S=Math.round(e/f*R),ea=Math.ceil(g),Q=Math.ceil(S/R*g),k=(h-Q)/2);d.css({"margin-left":k,"margin-top":l,width:Q+"px",height:ea+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*Q+"px");M(K.spriteURLs,E.find("#image-360-sprites"),0);e=E.find("#ivLarge360");e.bind("mousedown",x);e.bind("touchstart",P);e.bind("touchmove",L);e.bind("touchend",c);a(document).bind("mousemove",q);a(document).bind("mouseup",
r);b.isDefined(v.staticImages.grab)&&d.css("cursor","url('"+v.staticImages.grab+"'), auto");ua=!0}}function P(a){W=!0;fa=a.originalEvent.targetTouches[0].clientX}function L(a){W&&(p(a.originalEvent.targetTouches[0].clientX-fa),fa=a.originalEvent.targetTouches[0].clientX)}function c(a){W&&(W=!1)}function x(a){ja=!0;ba=a.originalEvent.clientX;b.isDefined(v.staticImages.grabbing)&&(a=E.find("#ivLarge360"),a.css("cursor","url('"+v.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+v.staticImages.grabbing+"'), auto"));return!1}function q(a){ja&&(p(a.originalEvent.clientX-ba),ba=a.originalEvent.clientX)}function r(a){ja&&(ja=!1,b.isDefined(v.staticImages.grab)&&(a=E.find("#ivLarge360"),a.css("cursor","url('"+v.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function p(a){Y-=a/Q*180;ia&&(m.count("dppc_360dragToSpin",v.mediaAsin),k.postCountMetric("dppc_360dragToSpin"));ia=!1;for(a=Y;0>a;)a+=360;for(;360<a;)a-=360;Y=a;var c;a=360;
for(var d=0;d<w;d++)for(var e=0;e<K.imageLocations[d].length;e++){var f=Math.abs(Y-5*K.imageLocations[d][e]);f<a&&(a=f,c=d*K.imageLocations[0].length+e)}c!==Z&&(a=Math.floor(c/K.imageLocations[0].length),a!==Math.floor(Z/K.imageLocations[0].length)&&(b.isDefined(ha)||(ha=document.createElement("canvas").getContext("2d")),d=E.find("#image-360-sprites").children(),ha.drawImage(d[a],0,0)),a=E.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},
750)));Z=c;a=c%K.imageLocations[0].length*-1*Q;c=-1*Math.floor(c/K.imageLocations[0].length)*ea;d=E.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");d.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function B(){if(V){E=a("#ivMain360");var b=U.getCurrentItem().color;J()&&u(b);K=J()?v.spin360ColorData[b]:void 0;y.populateTitle(E.find("#ivTitle360"),160,v);y.populateVariationSelection(E.find("#ivVariationSelection360"));E.find("#ivLarge360").empty();
w=0;ua=la=!1;Z=Y=0;ca();V=!1}0!==a("#iv360Tab").height()&&(y.detachImmersiveViewResizeHandler(B),t(),z(),C=Date.now(),ga=ia=!0,m.count("dppc_click360",v.mediaAsin),k.postCountMetric("dppc_click360"))}function F(a,c,e){a=v.colorToAsin[e];var f={},h=500;if(!a||!a.asin)if(e===v.defaultColor)a={asin:v.winningAsin};else return;f.params={asin:a.asin};var g="360"+a.asin,l=Date.now();f.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-l,v.mediaAsin);k.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-l);a&&b.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&d.setData(a),b.ajaxState(g,"success")):f.error()};f.error=function(){m.count("dppc_asyncFailedTransient360",v.mediaAsin);k.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",Date.now()-l,v.mediaAsin);k.postTimeMetric("dppc_asyncRequestTime360",Date.now()-l);h*=2;16E3>=h?setTimeout(function(){l=Date.now();n.load("/gp/product/features/apparel-main-image/360.html",f)},h):(m.count("dppc_asyncFailed360",
v.mediaAsin),k.postCountMetric("dppc_asyncFailed360"),b.ajaxState(g,"fail"))};b.ajaxState(g)&&"fail"!==b.ajaxState(g)||(n.load("/gp/product/features/apparel-main-image/360.html",f),b.ajaxState(g,"sent"))}function J(){return v&&b.isDefined(v.spin360ConfigEnabled)&&v.spin360ConfigEnabled}function u(a){return b.isDefinedAndNotEmpty(v.spin360ColorData[a])?!0:b.isDefined(v.spin360LazyLoadEnabled)&&v.spin360LazyLoadEnabled}function f(){ga&&(m.time("dppc_duration360",Date.now()-C,v.mediaAsin),k.postTimeMetric("dppc_duration360",
Date.now()-C),ga=!1)}function h(a){a=v.colorToAsin[a.color].asin;a||(a=v.mediaAsin);return a}var e,v,U,X,E,K,Q,ea,R,S,ba,fa,la=!1,ua=!1,Y=0,Z=0,C=0,aa=0,ja=!1,W=!1,w=0,ha,ia=!0,ga=!1,V=!0,ca=g.once(function(){y.attachImmersiveViewResizeHandler(B);y.attachImmersiveViewResizeHandler(t);y.attachImmersiveViewResetHandler(f);y.attachTabDeselectHandler("iv360Tab",f)});return function(c,f,n,q){e=this;v=c;U=f;X=q;c=v.landingAsinColor;f=v.defaultColor;b.isDefined(v.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
y.addStyleCodeToURL(v.staticImages.icon360,"_FMpng_RI_"));J()&&(v.spin360ColorData||(v.spin360ColorData={}),c===f&&b.isDefinedAndEmpty(v.spin360ColorData[f])&&delete v.spin360ColorData[f]);g.on(l.TWISTER_DATA_EVENT,function(a){h(U.getCurrentItem())===a&&(K=d.getData(a),N(),a={type:"updatedData",data:U.getCurrentItem()},X.dispatch("updateView",a))});e.render=function(c,e,f,l,n,q){V=!0;!J()||b.isDefinedAndEmpty(v.spin360ColorData[c])&&!d.getData(h(U.getCurrentItem()))?y.hideTabHeading("iv360TabHeading"):
(v.spin360ColorData[c]=d.getData(h(U.getCurrentItem())),b.isDefinedAndNotEmpty(v.spin360ColorData[c])?(a("#ivThumbs360").hide(),y.unhideTabHeading("iv360TabHeading"),b.isImmersiveViewEnabled(v,U.getCurrentItem().color)&&J()&&u(c)&&(e===v.maxAlts&&(c=l.find(".item.imageThumbnail"),e=l.find(".item.videoThumbnail"),b.isDefined(e)&&1<e.length?e.last().remove():c.last().remove()),c=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),g.declarative.create(c,
"button-360-click"),l.append(c),m.count("dppc_display360",v.mediaAsin),k.postCountMetric("dppc_display360"))):b.isDefined(v.spin360LazyLoadEnabled)&&v.spin360LazyLoadEnabled?(v.spin360ColorData[c]={},y.hideTabHeading("iv360TabHeading"),F(l,e,c)):y.hideTabHeading("iv360TabHeading"))};e.update=function(a){};y.attachTabSelectHandler("iv360Tab",B)}});z.register("nexusLogger360",function(){return{count:function(g,a){t.ue&&t.ue.event({asin:a,metricName:g,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(g,a,b){t.ue&&t.ue.event({asin:b,metricName:g,metricValue:a},"hit-360","hit360.clientEvent.3")}}});z.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});z.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(g,a){var b={};return{setData:function(n){var m=n.asin;b[m]||(b[m]=n,g.trigger(a.TWISTER_DATA_EVENT,m))},getData:function(a){return b[a]}}});"use strict";z.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",
function(g,a){try{var b=t.location.host,n={dub:"https://www.amazon.co.uk/vap/ew/",pdx:"https://www.amazon.co.jp/vap/ew/"},m=b.split(".")[1],k=-1===b.indexOf(".proxy.amazon.com")?"/vap/ew/":void 0!==n[m]?n[m]:"https://www.amazon.com/vap/ew/",y="vse_lazyLoaderHook:success:",d="vse_lazyLoaderHook:error:",l="vse_preLoaderHook:success:",G="vse_preLoaderHook:error:",I="vse_lightPlayerLoaderHook:success:",D="vse_lightPlayerLoaderHook:error:",M=4E3,A=3}catch(H){a.logError("FATAL","vse_ns_desktop","[Domain] ",
H)}z.register("vse_ns_preLoaderHook",function(){function b(d,m){try{var c=d.A,n=d.block,q=d.request,r=d.handleFailure,p=d.handleSuccess,y=c.$;m--;var t=A-m-1,z=c.now();c.ajax(k+"componentbuilder",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:q.timeout||M,withCredentials:!0,success:function(a){var b=c.now()-z;g.postTimeMetric(l,b);g.postCountMetric(l+q.page+":"+q.placement+":"+t);y(n).html(a);p(c,q,a)},error:function(a){g.postCountMetric(G+q.page+
":"+q.placement+":"+t);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<m?b(d,m):(g.postCountMetric(G,1),r(c,q,a))}})}catch(u){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",u)}}return{get:function(a,d,c,g,k){b({A:a,block:d,request:c,handleFailure:k,handleSuccess:g},A)}}});z.register("vse_ns_lazyLoaderHook",function(){function b(l,m,c){try{var n=l.A,q=l.context,r=l.handleFailure,p=l.handleSuccess;m.attr("data-configuration");var t=atob(m.attr("data-configuration")),z=
JSON.parse(t),D={pageContext:q,configuration:z},u=n.now();c--;var f=A-c-1;n.ajax(k+"subcomponent/"+z.type,{params:D,paramsFormat:"json",method:"post",contentType:"application/json",timeout:q.timeout||M,withCredentials:!0,success:function(a){var b=n.now()-u;g.postTimeMetric(y,b);g.postCountMetric(y+q.page+":"+q.placement+":"+z.type+":"+f);m.html(a);p(n,D,a)},error:function(a){g.postCountMetric(d+q.page+":"+q.placement+":"+z.type+":"+f);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<
c?b(l,m,c):(g.postCountMetric(d,1),r(n,D,a))}})}catch(h){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",h)}}return{get:function(a,d,c,g,k){var l=a.$;l(d+" div[data-configuration]").each(function(){b({A:a,context:c,handleFailure:k,handleSuccess:g},l(this),A)})}}});z.register("vse_ns_videoPlayer",function(){function b(d,l,c){try{var m=d.A,n=d.block,r=d.request,p=d.handleFailure,t=d.handleSuccess,y=m.$;c--;var z=A-c-1,u=m.now();m.ajax(k+"subcomponent/lightvideoplayer",{params:r,paramsFormat:"json",
crossDomain:!0,method:"post",contentType:"application/json",timeout:r.timeout||M,withCredentials:!0,success:function(a){var b=m.now()-u;g.postTimeMetric(I,b);g.postCountMetric(I+r.page+":"+r.placement+":"+z);y(n).html(a);t(m,r,a)},error:function(a){g.postCountMetric(D+r.page+":"+r.placement+":"+z);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<c?b(d,c):(g.postCountMetric(D,1),p(m,r,a))}})}catch(f){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",f)}}return{get:function(a,
d,c,g,k){b({A:a,block:d,request:c,handleFailure:k,handleSuccess:g},A)}}})});"use strict";z.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(g,a,b,n,m){var k=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=b.colorImages,d=0,g;for(g in a)a[g]&&a[g].length&&(d+=a[g].length);a="image_size_bucket:gt"+k[k.length-1];for(g=1;g<k.length;g++)if(d<=k[g]){a="image_size_bucket:"+k[g-1]+"-"+k[g];break}m.postCountMetric(a);n.addTag(a)})();(function(){var b=a.colorImages;
b&&b.initial&&b.initial.length&&(b=b.initial.length,t.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=b.lazyLoadExperienceDisabled;n.isDefined(b.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),n.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()})});